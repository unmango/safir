<Project Sdk="Microsoft.NET.Sdk.Web">

  <PropertyGroup>
    <TargetFramework>net6.0</TargetFramework>
    <DockerDefaultTargetOS>Linux</DockerDefaultTargetOS>
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="Validation.fs" />
    <Compile Include="Configuration.fs" />
    <Compile Include="FileEvent.fs" />
    <Compile Include="WeatherForecast.fs" />
    <Compile Include="Queries/ListFiles.fs" />
    <Compile Include="Services/IFileWatcher.fs" />
    <Compile Include="Services/DataDirectoryWatcher.fs" />
    <Compile Include="Services/FileEventPublisher.fs" />
    <Compile Include="GrpcServices/FileSystemService.fs" />
    <Compile Include="Controllers/WeatherForecastController.fs" />
    <Compile Include="Program.fs" />
  </ItemGroup>

  <ItemGroup>
    <Content Include=".dockerignore" />
    <None Include="$(AgentRoot)\docker-compose.yml" Link="docker-compose.yml" />
    <Content Include="Dockerfile" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Grpc.AspNetCore.Server" Version="2.46.0" />
    <PackageReference Include="Grpc.AspNetCore.Server.Reflection" Version="2.46.0" />
    <PackageReference Include="Grpc.AspNetCore.Web" Version="2.46.0" />
    <PackageReference Include="Serilog.AspNetCore" Version="5.0.0" />
    <PackageReference Include="System.Reactive" Version="5.0.0" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="$(CommonSrc)\Safir.IO.FSharp\Safir.IO.FSharp.fsproj" />
    <ProjectReference Include="$(CommonSrc)\Safir.Protos\Safir.Protos.csproj" />
  </ItemGroup>
</Project>
